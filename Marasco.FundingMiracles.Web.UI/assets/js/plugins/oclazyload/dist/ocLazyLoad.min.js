(function(){"use strict";function k(n){var t=[];return angular.forEach(n.requires,function(n){i.indexOf(n)===-1&&t.push(n)}),t}function l(n){if(!angular.isString(n))return!1;try{return u(n)}catch(t){if(/No module/.test(t)||t.message.indexOf("$injector:nomod")>-1)return!1}}function d(n){try{return u(n)}catch(t){(/No module/.test(t)||t.message.indexOf("$injector:nomod")>-1)&&(t.message='The module "'+n+'" that you are trying to load does not exist. '+t.message);throw t;}}function o(n,t,i,r){var o,h,u,f,c,s,e,l;if(t)for(o=0,h=t.length;o<h;o++)if(u=t[o],angular.isArray(u)){if(n!==null)if(n.hasOwnProperty(u[0]))f=n[u[0]];else throw new Error("unsupported provider "+u[0]);if(c=g(u,i),u[1]!=="invoke")c&&angular.isDefined(f)&&f[u[1]].apply(f,u[2]);else if(s=function(n){var t=v.indexOf(i+"-"+n);(t===-1||r)&&(t===-1&&v.push(i+"-"+n),angular.isDefined(f)&&f[u[1]].apply(f,u[2]))},angular.isFunction(u[2][0]))s(u[2][0]);else if(angular.isArray(u[2][0]))for(e=0,l=u[2][0].length;e<l;e++)angular.isFunction(u[2][0][e])&&s(u[2][0][e])}}function p(n,t,r){var l,s,h,v,y,w;if(t){for(v=[],l=t.length-1;l>=0;l--)if(s=t[l],typeof s!="string"&&(s=a(s)),s&&c.indexOf(s)===-1){if(y=i.indexOf(s)===-1,h=u(s),y&&(i.push(s),p(n,h.requires,r)),h._runBlocks.length>0)for(f[s]=[];h._runBlocks.length>0;)f[s].push(h._runBlocks.shift());angular.isDefined(f[s])&&(y||r.rerun)&&(v=v.concat(f[s]));o(n,h._invokeQueue,s,r.reconfig);o(n,h._configBlocks,s,r.reconfig);e(y?"ocLazyLoad.moduleLoaded":"ocLazyLoad.moduleReloaded",s);t.pop();c.push(s)}w=n.getInstanceInjector();angular.forEach(v,function(n){w.invoke(n)})}}function g(n,i){var u=n[2][0],r=n[1],s=!1,o,f;if(angular.isUndefined(t[i])&&(t[i]={}),angular.isUndefined(t[i][r])&&(t[i][r]={}),o=function(n,u){s=!0;t[i][r][n].push(u);e("ocLazyLoad.componentLoaded",[i,r,n])},f=function(n){return angular.isArray(n)?h(n.toString()):angular.isObject(n)?h(b(n)):angular.isDefined(n)&&n!==null?h(n.toString()):n},angular.isString(u))angular.isUndefined(t[i][r][u])&&(t[i][r][u]=[]),t[i][r][u].indexOf(f(n[2][1]))===-1&&o(u,f(n[2][1]));else if(angular.isObject(u))angular.forEach(u,function(n){angular.isString(n)&&(angular.isUndefined(t[i][r][n])&&(t[i][r][n]=[]),t[i][r][n].indexOf(f(u[1]))===-1&&o(n,f(u[1])))});else return!1;return s}function a(n){var t=null;return angular.isString(n)?t=n:angular.isObject(n)&&n.hasOwnProperty("name")&&angular.isString(n.name)&&(t=n.name),t}function nt(t){var e;if(n.length===0){var s=[t],f=["ng:app","ng-app","x-ng-app","data-ng-app"],h=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/,u=function(n){return n&&s.push(n)};angular.forEach(f,function(n){f[n]=!0;u(document.getElementById(n));n=n.replace(":","\\:");t[0].querySelectorAll&&(angular.forEach(t[0].querySelectorAll("."+n),u),angular.forEach(t[0].querySelectorAll("."+n+"\\:"),u),angular.forEach(t[0].querySelectorAll("["+n+"]"),u))});angular.forEach(s,function(i){if(n.length===0){var u=" "+t.className+" ",r=h.exec(u);r?n.push((r[2]||"").replace(/\s+/g,",")):angular.forEach(i.attributes,function(t){n.length===0&&f[t.name]&&n.push(t.value)})}})}n.length!==0||(window.jasmine||window.mocha)&&angular.isDefined(angular.mock)||console.error("No module found during bootstrap, unable to init ocLazyLoad. You should always use the ng-app directive or angular.boostrap when you use ocLazyLoad.");e=function e(n){if(i.indexOf(n)===-1){i.push(n);var t=angular.module(n);o(null,t._invokeQueue,n);o(null,t._configBlocks,n);angular.forEach(t.requires,e)}};angular.forEach(n,function(n){e(n)});n=[];r.pop()}var i=["ng"],t={},v=[],c=[],f={},y=angular.module("oc.lazyLoad",["ng"]),e=angular.noop,n=[],r=[!0],w,s,u,h,b;y.provider("$ocLazyLoad",["$controllerProvider","$provide","$compileProvider","$filterProvider","$injector","$animateProvider",function(t,u,f,o,h,v){var g={},it={$controllerProvider:t,$compileProvider:f,$filterProvider:o,$provide:u,$injector:h,$animateProvider:v},rt=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0],y,w,b,tt=!1,ut=!1;nt(angular.element(window.document));this.$get=["$log","$q","$templateCache","$http","$rootElement","$rootScope","$cacheFactory","$interval",function(t,u,f,o,h,v,nt,ft){var ht,et=nt("ocLazyLoad"),lt=!1,st=!1,ct,ot;return tt||(t={},t.error=angular.noop,t.warn=angular.noop,t.info=angular.noop),it.getInstanceInjector=function(){return ht?ht:ht=h.data("$injector")||angular.injector()},e=function(n,i){ut&&v.$broadcast(n,i);tt&&t.info(n,i)},ct=function(n,t,i){var o=u.defer(),r,l,a=function(n){var t=(new Date).getTime();return n.indexOf("?")>=0?n.substring(0,n.length-1)==="&"?n+"_dc="+t:n+"&_dc="+t:n+"?_dc="+t},c,s,f,h,v,y,p,w,b;angular.isUndefined(et.get(t))&&et.put(t,o.promise);switch(n){case"css":r=document.createElement("link");r.type="text/css";r.rel="stylesheet";r.href=i.cache===!1?a(t):t;break;case"js":r=document.createElement("script");r.src=i.cache===!1?a(t):t;break;default:o.reject(new Error('Requested type "'+n+'" is not known. Could not inject "'+t+'"'))}return r.onload=r.onreadystatechange=function(){r.readyState&&!/^c|loade/.test(r.readyState)||l||(r.onload=r.onreadystatechange=null,l=1,e("ocLazyLoad.fileLoaded",t),o.resolve())},r.onerror=function(){o.reject(new Error("Unable to load "+t))},r.async=i.serie?0:1,c=rt.lastChild,i.insertBefore&&(s=angular.element(i.insertBefore),s&&s.length>0&&(c=s[0])),rt.insertBefore(r,c),n=="css"&&(lt||(f=navigator.userAgent.toLowerCase(),/iP(hone|od|ad)/.test(navigator.platform)?(h=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),v=parseFloat([parseInt(h[1],10),parseInt(h[2],10),parseInt(h[3]||0,10)].join(".")),st=v<6):f.indexOf("android")>-1?(y=parseFloat(f.slice(f.indexOf("android")+8)),st=y<4.4):f.indexOf("safari")>-1&&f.indexOf("chrome")==-1&&(p=parseFloat(f.match(/version\/([\.\d]+)/i)[1]),st=p<6)),st&&(w=1e3,b=ft(function(){try{r.sheet.cssRules;ft.cancel(b);r.onload()}catch(n){--w<=0&&r.onerror()}},20))),o.promise},angular.isUndefined(y)&&(y=function(n,t,i){var r=[];angular.forEach(n,function(n){r.push(ct("js",n,i))});u.all(r).then(function(){t()},function(n){t(n)})},y.ocLazyLoadLoader=!0),angular.isUndefined(w)&&(w=function(n,t,i){var r=[];angular.forEach(n,function(n){r.push(ct("css",n,i))});u.all(r).then(function(){t()},function(n){t(n)})},w.ocLazyLoadLoader=!0),angular.isUndefined(b)&&(b=function(n,t,i){var r=[];return angular.forEach(n,function(n){var t=u.defer();r.push(t.promise);o.get(n,i).success(function(i){angular.isString(i)&&i.length>0&&angular.forEach(angular.element(i),function(n){n.nodeName==="SCRIPT"&&n.type==="text/ng-template"&&f.put(n.id,n.innerHTML)});angular.isUndefined(et.get(n))&&et.put(n,!0);t.resolve()}).error(function(i){t.reject(new Error('Unable to load template file "'+n+'": '+i))})}),u.all(r).then(function(){t()},function(n){t(n)})},b.ocLazyLoadLoader=!0),ot=function ot(n,i){var e=[],o=[],s=[],f=[],h=null,v,c,l,a;return r.push(!0),angular.extend(i||{},n),v=function(n){var r=null,u;if(typeof n=="object"&&(r=n.type,n=n.path),h=et.get(n),angular.isUndefined(h)||i.cache===!1){if((u=/^(css|less|html|htm|js)?(?=!)/.exec(n))!==null&&(r=u[1],n=n.substr(u[1].length+1,n.length)),!r)if((u=/[.](css|less|html|htm|js)?(\?.*)?$/.exec(n))!==null)r=u[1];else if(!y.hasOwnProperty("ocLazyLoadLoader")&&y.hasOwnProperty("load"))r="js";else{t.error("File type could not be determined. "+n);return}(r==="css"||r==="less")&&e.indexOf(n)===-1?e.push(n):(r==="html"||r==="htm")&&o.indexOf(n)===-1?o.push(n):r==="js"||s.indexOf(n)===-1?s.push(n):t.error("File type is not valid. "+n)}else h&&f.push(h)},i.serie?v(i.files.shift()):angular.forEach(i.files,function(n){v(n)}),e.length>0&&(c=u.defer(),w(e,function(n){angular.isDefined(n)&&w.hasOwnProperty("ocLazyLoadLoader")?(t.error(n),c.reject(n)):c.resolve()},i),f.push(c.promise)),o.length>0&&(l=u.defer(),b(o,function(n){angular.isDefined(n)&&b.hasOwnProperty("ocLazyLoadLoader")?(t.error(n),l.reject(n)):l.resolve()},i),f.push(l.promise)),s.length>0&&(a=u.defer(),y(s,function(n){angular.isDefined(n)&&y.hasOwnProperty("ocLazyLoadLoader")?(t.error(n),a.reject(n)):a.resolve()},i),f.push(a.promise)),i.serie&&i.files.length>0?u.all(f).then(function(){return ot(n,i)}):u.all(f).finally(function(n){return r.pop(),n})},{getModuleConfig:function(n){if(!angular.isString(n))throw new Error("You need to give the name of the module to get");return g[n]?g[n]:null},setModuleConfig:function(n){if(!angular.isObject(n))throw new Error("You need to give the module config object to set");return g[n.name]=n,n},getModules:function(){return i},isLoaded:function(n){var u=function(n){var t=i.indexOf(n)>-1;return t||(t=!!l(n)),t},t,r;if(angular.isString(n)&&(n=[n]),angular.isArray(n)){for(t=0,r=n.length;t<r;t++)if(!u(n[t]))return!1;return!0}throw new Error("You need to define the module(s) name(s)");},load:function(i,f){var h=this,e=null,y=[],g=[],o=u.defer(),b,nt,v,w;return(angular.isUndefined(f)&&(f={}),angular.isArray(i))?(angular.forEach(i,function(n){n&&g.push(h.load(n,f))}),u.all(g).then(function(){o.resolve(i)},function(n){o.reject(n)}),o.promise):(typeof i=="string"?(e=h.getModuleConfig(i),e||(e={files:[i]})):typeof i=="object"&&(e=angular.isDefined(i.path)&&angular.isDefined(i.type)?{files:[i]}:h.setModuleConfig(i)),e===null)?(nt=a(i),b='Module "'+(nt||"unknown")+'" is not configured, cannot load.',t.error(b),o.reject(new Error(b)),o.promise):(angular.isDefined(e.template)&&(angular.isUndefined(e.files)&&(e.files=[]),angular.isString(e.template)?e.files.push(e.template):angular.isArray(e.template)&&e.files.concat(e.template)),y.push=function(n){this.indexOf(n)===-1&&Array.prototype.push.apply(this,arguments)},v={},angular.extend(v,f,e),w=function w(n){var i,o,s,r,f=[],e;if(i=a(n),i===null)return u.when();try{o=d(i)}catch(c){return e=u.defer(),t.error(c.message),e.reject(c),e.promise}return s=k(o),angular.forEach(s,function(u){if(typeof u=="string"){var e=h.getModuleConfig(u);if(e===null){y.push(u);return}u=e}if(l(u.name)){typeof n!="string"&&(r=u.files.filter(function(n){return h.getModuleConfig(u.name).files.indexOf(n)<0}),r.length!==0&&t.warn('Module "',i,'" attempted to redefine configuration for dependency. "',u.name,'"\n Additional Files Loaded:',r),f.push(ot(u.files,v).then(function(){return w(u)})));return}angular.isArray(u)?u={files:u}:typeof u=="object"&&u.hasOwnProperty("name")&&u.name&&(h.setModuleConfig(u),y.push(u.name));u.hasOwnProperty("files")&&u.files.length!==0&&u.files&&f.push(ot(u,v).then(function(){return w(u)}))}),u.all(f)},angular.isUndefined(e.files)&&angular.isDefined(e.name)&&l(e.name)&&(r.push(!0),s(e.name),r.pop()),ot(e,v).then(function(){if(n.length===0)o.resolve(i);else{var r=function r(u){y.push(u);w(u).then(function(){try{c=[];p(it,y,v)}catch(u){t.error(u.message);o.reject(u);return}n.length>0?r(n.shift()):o.resolve(i)},function(n){o.reject(n)})};r(n.shift())}},function(n){o.reject(n)}),o.promise)}}}];this.config=function(n){if(angular.isDefined(n.jsLoader)||angular.isDefined(n.asyncLoader)){if(!angular.isFunction(n.jsLoader||n.asyncLoader))throw"The js loader needs to be a function";y=n.jsLoader||n.asyncLoader}if(angular.isDefined(n.cssLoader)){if(!angular.isFunction(n.cssLoader))throw"The css loader needs to be a function";w=n.cssLoader}if(angular.isDefined(n.templatesLoader)){if(!angular.isFunction(n.templatesLoader))throw"The template loader needs to be a function";b=n.templatesLoader}angular.isDefined(n.modules)&&(angular.isArray(n.modules)?angular.forEach(n.modules,function(n){g[n.name]=n}):g[n.modules.name]=n.modules);angular.isDefined(n.debug)&&(tt=n.debug);angular.isDefined(n.events)&&(ut=n.events)}}]);y.directive("ocLazyLoad",["$ocLazyLoad","$compile","$animate","$parse",function(n,t,i,r){return{restrict:"A",terminal:!0,priority:1e3,compile:function(u){var f=u[0].innerHTML;return u.html(""),function(u,e,o){var s=r(o.ocLazyLoad);u.$watch(function(){return s(u)||o.ocLazyLoad},function(r){angular.isDefined(r)&&n.load(r).then(function(){i.enter(t(f)(u),null,e)})},!0)}}}}]);w=angular.bootstrap;angular.bootstrap=function(n,t,i){return angular.forEach(t.slice(),function(n){s(n)}),w(n,t,i)};s=function(t){r.length>0&&angular.isString(t)&&n.indexOf(t)===-1&&n.push(t)};u=angular.module;angular.module=function(n,t,i){return s(n),u(n,t,i)};h=function(n){var t=0,i,r,u;if(n.length==0)return t;for(i=0,u=n.length;i<u;i++)r=n.charCodeAt(i),t=(t<<5)-t+r|0;return t};b=function(n){var t=[];return JSON.stringify(n,function(n,i){if(typeof i=="object"&&i!==null){if(t.indexOf(i)!==-1)return;t.push(i)}return i})};Array.prototype.indexOf||(Array.prototype.indexOf=function(n,t){var r,f,u,i;if(this==null)throw new TypeError('"this" is null or not defined');if((f=Object(this),u=f.length>>>0,u===0)||(i=+t||0,Math.abs(i)===Infinity&&(i=0),i>=u))return-1;for(r=Math.max(i>=0?i:u-Math.abs(i),0);r<u;){if(r in f&&f[r]===n)return r;r++}return-1})})();
//# sourceMappingURL=ocLazyLoad.min.js.map
