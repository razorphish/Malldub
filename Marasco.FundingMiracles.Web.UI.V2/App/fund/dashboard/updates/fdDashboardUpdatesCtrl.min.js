"use strict";fundoloApp.controller("fdDashboardUpdatesCtrl",["$modal","$scope","$log","$stateParams","$window","$location","fdDashboardSvc",function(n,t,i,r,u,f,e){function o(){t.fundUpdate.content="";t.isDeleting=!1}e.summary(r.fundId).then(function(n){t.fund=angular.isArray(n)?n[0]:n;App.mallDub.setDomainColor(t.fund.pageColor,t.fund.pageSkin,t.fund.pageLayout)},function(n){toastr("Error loading fund.  Please try again");i.error(n)});t.showWarning=!1;t.updateFundUpdate=function(i){i.isUpdating=!0;i.statusId="Deleted";e.saveUpdate(i).then(function(){t.fundUpdates.splice(t.fundUpdates.indexOf(i),1);toastr.success("Connection feed updated successfully")},function(){var t=n.messageBox("Oops!  Problem creating update","There were some problems creating the update.  Please try again",[{label:"Ok",result:"Ok",cssClass:"btn-u btn-u-blue"}]);t.open().then(function(){});i.isUpdating=!1})};t.saveFundUpdate=function(i){if(t.isSaving=!0,this.updateForm.$valid)i.fundId=t.fund.identification,e.saveUpdate(i).then(function(n){t.fundUpdates.push(n);o();t.isSaving=!1;toastr.success("Updated added successfully")},function(){var i=n.messageBox("Oops!  Problem creating update","There were some problems creating the update.  Please try again",[{label:"Ok",result:"Ok",cssClass:"btn-u btn-u-blue"}]);i.open().then(function(){});t.isSaving=!1});else{var r=n.messageBox("Oops!  Description is required","Description is required.  Please fill it in.",[{label:"Ok",result:"Ok",cssClass:"btn-u btn-u-blue"}]);r.open().then(function(){});t.isSaving=!1}}}]);
//# sourceMappingURL=fdDashboardUpdatesCtrl.min.js.map
